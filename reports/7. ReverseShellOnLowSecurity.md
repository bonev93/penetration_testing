# Reverse shell on DVWA low security

1. First thing we need to do is to turn on both VMs. The DVWA machine will be our so called 'victim' and we will use the Kali VM to execute our attack.

![Screen Shot 2022-03-12 at 6 24 58](https://user-images.githubusercontent.com/18306338/158039450-712ec43d-fda4-4d77-bf38-0de175135ed6.png)

2. Second step is to query the ip address of the DVWA VM machine with the ifconfig command.
   We now see that the IP address we need to taget at the Kali machine is 10.0.2.4.

![Screen Shot 2022-03-12 at 6 26 34](https://user-images.githubusercontent.com/18306338/158039479-cd9b8278-c8e5-4b63-93b1-e2f268368fa3.png)

3. Third step is to fire up the firefox browser on the Kali machine and navigate to 10.0.2.4

![Screen Shot 2022-03-12 at 6 28 40](https://user-images.githubusercontent.com/18306338/158039524-72453e7f-1b84-42ad-9b13-21ca5f8af5b0.png)

 We are navigated to the login.php route, which is one of the hints that this website is served with PHP.

4. After we use the admin password combination to login we see that the default state of the Security level for the DVWA is high so we need to lower it for the purposes of this task.

Default:

![Screen Shot 2022-03-12 at 6 30 59](https://user-images.githubusercontent.com/18306338/158039594-c256b504-4f5f-4d87-b19f-d21068efea6b.png)

We need to navigate to DVWA Security dropdown option

After submission:

![Screen Shot 2022-03-12 at 6 31 29](https://user-images.githubusercontent.com/18306338/158039768-073542fd-7919-463d-a6cc-b8e879e2c9db.png)


7. We now have the DVWA security set to low and we can try the upload functionality with a dummy image

8. Our next step is to open a console and use netcat to start listening for a connection on a port we will provide in further steps

Command : nc -l -v -n -p 12345

-l indicates netcat will be in listen mode for inbound connections
-v would make the output in console a bit more verbose meaning more information will be printed
-n would allow numeric only IP addresses(removing DNS)
-p would target 12345 port

9. Next step for us would be to download a ready to use php reverse shell - googling for such available tool brings up the following  
   https://github.com/pentestmonkey/php-reverse-shell/blob/master/php-reverse-shell.php

10. We need to use git clone https://github.com/pentestmonkey/php-reverse-shell.git command and then the content of
    php-reverse-shell.php file needs to be updated. The ip variable needs to refer to the IP address of our Kali machine.
    The port variable needs to refer to the port param we are using through the netcat tool(12345).
